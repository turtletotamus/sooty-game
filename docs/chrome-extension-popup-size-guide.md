# Chrome 擴充功能 popup 尺寸 — 官方規範與跨裝置建議

## 一、Google 官方規範（chrome.action API）

依據 [Chrome for Developers - chrome.action](https://developer.chrome.com/docs/extensions/reference/api/action)：

### 1. Popup 尺寸範圍（唯一明確數字）

- **Popup 的尺寸必須介於 25×25 與 800×600 之間**（單位為像素）。
- 文件說明：*"The popup's size must be between 25x25 and 800x600 pixels."*
- 尺寸由 **popup 的 HTML/CSS 內容** 決定：Chrome 會依內容自動決定視窗大小，你透過在 HTML/CSS 設定寬高來控制，而不是在 manifest 裡寫死尺寸。

### 2. 官方未另外說明的部分

- **沒有**依裝置（桌機／平板／手機）給不同尺寸規範。
- **沒有**規定「建議寬度／高度」或「安全區域」。
- 實務上就是：在 25×25～800×600 內，用你的 HTML/CSS 決定 popup 長怎樣。

---

## 二、不同裝置（平板、手機）的顯示

### 桌機（Desktop）

- Popup 是工具列圖示點開後的小視窗，尺寸由內容決定（在上述範圍內）。
- 不同電腦的螢幕大小、DPI 不同，但 **popup 本身不會自動依螢幕變大變小**；要適應不同螢幕，只能靠「內容用彈性版面」在**你設定的 popup 尺寸內**自己適應。

### 平板、手機（Chrome on Android / 一般手機）

- **目前一般手機版 Chrome 不支援擴充功能**；擴充主要是桌機與 Chromebook。
- Google 在測試的是「**桌面版 Chrome for Android**」（例如 Android 平板、可接螢幕的裝置），主要面向 **Chromebook / 類桌機** 情境，**不是**一般手機小螢幕。
- 官方文件**沒有**針對「手機小螢幕上的 popup 該多大」給規範，因為現行產品線下，手機不是主要支援對象。

因此：  
- **有外觀需求的擴充**，目前實務上是以「桌機 + 平板（類桌機）」為主。  
- 若未來手機也支援，再依當時的 UI 規範做「小視窗」或「全螢幕」的版面調整。

---

## 三、官方對「定義擴充功能尺寸」的具體做法

1. **不在 manifest 裡設尺寸**  
   Manifest 只指定 `default_popup` 的 HTML 檔，**不**填寬高。

2. **在 popup 的 HTML/CSS 裡決定尺寸**  
   - 在 popup 的 `<html>` / `<body>` 或外層容器上設 `width`、`height`、`min-width`、`max-width`、`min-height`、`max-height`。  
   - Chrome 會依這個內容的版面計算出 popup 視窗大小（並限制在 25×25～800×600）。

3. **讓內容在「單一設定尺寸」內自適應**  
   - 因為 popup 不會依裝置自動變大變小，**常見做法**是：  
     - 選一個「最大會用到的」popup 尺寸（例如 400×560）。  
     - 用 **flex / grid / % / max-width / overflow** 讓內容在這個框內不破版、可縮可捲。  
   - 這樣在不同 DPI、不同螢幕上，至少「不會超出你設的範圍」，且可讀。

4. **若希望「小螢幕上不要太寬」**  
   - 可用 CSS：例如 `width: 400px; max-width: 95vw;`（若該環境有 `vw`）。  
   - 在「類桌機」環境下，通常仍會以你設的 400px 為主，但避免在極窄視窗下爆版。

---

## 四、對「小黑炭」這類有外觀需求的擴充，建議做法

| 項目 | 建議 |
|------|------|
| **目標裝置** | 以桌機為主；平板若用桌面模式開 Chrome，可視為同一套版面。 |
| **Popup 尺寸** | 在 800×600 以內選一個固定設計尺寸（例如 400×560），在 HTML/CSS 明確設定，讓內容不超出、不強制捲動（或只允許區塊內捲動）。 |
| **不同電腦** | 不依「每台電腦不同」去改 popup 尺寸，而是：**同一套 popup 尺寸 + 彈性版面**（flex/grid、字級與間距用相對單位），在 400×560 內適應。 |
| **手機** | 目前 Chrome 手機版不支援擴充，無須為手機單獨設 300～500px 寬；若未來支援，再依當時規範做「小尺寸」或全螢幕版。 |

總結：  
- **官方有給的**：25×25～800×600、尺寸由 popup 的 HTML/CSS 決定。  
- **官方沒給的**：依裝置（平板/手機）的個別尺寸規範；目前實務上以「單一 popup 尺寸 + 內容彈性」為主，手機暫不納入設計對象。
